# –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏

Backend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Java (Spring Boot) –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏.

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Java 21**
- **Spring Boot 3.5.3**
- **Spring Security** + **JWT** –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **Spring Data JPA** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- **PostgreSQL 15** –≤ –∫–∞—á–µ—Å—Ç–≤–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **Liquibase** –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π –ë–î
- **Docker** –∏ **Docker Compose** –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è
- **Swagger/OpenAPI** –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API
- **Maven** –¥–ª—è —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

## üìã –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ JWT (access + refresh —Ç–æ–∫–µ–Ω—ã)
- –†–æ–ª–∏: `ROLE_ADMIN` –∏ `ROLE_USER`
- –û—Ç–∑—ã–≤ —Ç–æ–∫–µ–Ω–æ–≤ (logout)

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∫–∞—Ä—Ç
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∫–∞—Ä—Ç —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π (–ø–æ email –≤–ª–∞–¥–µ–ª—å—Ü–∞, —Å—Ç–∞—Ç—É—Å—É, –ø–æ—Å–ª–µ–¥–Ω–∏–º 4 —Ü–∏—Ñ—Ä–∞–º)
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (–ø—Ä–æ—Å–º–æ—Ç—Ä, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–µ–π, —É–¥–∞–ª–µ–Ω–∏–µ)

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –∫–∞—Ä—Ç —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —Å—Ç–∞—Ç—É—Å—É
- ‚úÖ –ó–∞–ø—Ä–æ—Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∫–∞—Ä—Ç—ã
- ‚úÖ –ü–µ—Ä–µ–≤–æ–¥—ã –º–µ–∂–¥—É —Å–≤–æ–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –±–∞–ª–∞–Ω—Å–∞ –∫–∞—Ä—Ç

## üì¶ –ê—Ç—Ä–∏–±—É—Ç—ã –∫–∞—Ä—Ç—ã

- **–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã** ‚Äî –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω (AES-256-GCM), –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –º–∞—Å–∫–æ–π: `**** **** **** 1234`
- **–í–ª–∞–¥–µ–ª–µ—Ü** ‚Äî email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è** ‚Äî –¥–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è
- **–°—Ç–∞—Ç—É—Å** ‚Äî `ACTIVE`, `BLOCKED`, `EXPIRED`
- **–ë–∞–ª–∞–Ω—Å** ‚Äî —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å –∫–∞—Ä—Ç—ã

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker –∏ Docker Compose
- Java 21 (–µ—Å–ª–∏ –∑–∞–ø—É—Å–∫ –±–µ–∑ Docker)
- Maven 3.9+ (–µ—Å–ª–∏ –∑–∞–ø—É—Å–∫ –±–µ–∑ Docker)

### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

1. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`** –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
SPRING_DATASOURCE_DB=your_database_name
SPRING_DATASOURCE_USERNAME=your_db_username
SPRING_DATASOURCE_PASSWORD=your_db_password

# JWT_SECRET: Base64, 32+ –±–∞–π—Ç–∞
JWT_SECRET=your_base64_encoded_jwt_secret_key
# JWT_ENC_SECRET: Base64, 32+ –±–∞–π—Ç–∞
JWT_ENC_SECRET=your_base64_encoded_jwt_encryption_key

# CARD_ENC_SECRET: HEX, 64 —Å–∏–º–≤–æ–ª–∞ = 32 –±–∞–π—Ç–∞
CARD_ENC_SECRET=your_hex_encoded_card_encryption_key_64_chars

```

**–í–∞–∂–Ω–æ:** –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª—é—á–µ–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–∞ –¥–ª—è JWT_SECRET (Base64, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 32+ –±–∞–π—Ç–∞)
openssl rand -base64 32

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–∞ –¥–ª—è JWT_ENC_SECRET (Base64, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 32+ –±–∞–π—Ç–∞)
openssl rand -base64 32

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–∞ –¥–ª—è CARD_ENC_SECRET (HEX, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ 64 —Å–∏–º–≤–æ–ª–∞ = 32 –±–∞–π—Ç–∞)
openssl rand -hex 32
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** 
- `JWT_SECRET` –∏ `JWT_ENC_SECRET` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ **Base64**
- `CARD_ENC_SECRET` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ **HEX** (64 —Å–∏–º–≤–æ–ª–∞ –¥–ª—è 32 –±–∞–π—Ç = 256 –±–∏—Ç)

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**

```bash
docker-compose up -d
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8080`

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞ –ø–æ—Ä—Ç—É, —É–∫–∞–∑–∞–Ω–Ω–æ–º –≤ `docker-compose.yml`.

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ Docker)

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL 15** –∏ —Å–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:

```sql
CREATE DATABASE your_database_name;
```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ `application.yml`** –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```yaml
spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/your_database_name
    username: your_db_username
    password: your_db_password
```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** –¥–ª—è JWT –∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è:

```bash
export JWT_SECRET=your_base64_encoded_jwt_secret_key
export JWT_ENC_SECRET=your_base64_encoded_jwt_encryption_key
export CARD_ENC_SECRET=your_hex_encoded_card_encryption_key_64_chars
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –æ —Ñ–æ—Ä–º–∞—Ç–∞—Ö –∫–ª—é—á–µ–π:**
- `JWT_SECRET` –∏ `JWT_ENC_SECRET` - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ **Base64** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 32+ –±–∞–π—Ç–∞ –ø–æ—Å–ª–µ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è)
- `CARD_ENC_SECRET` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ **HEX** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ 64 —Å–∏–º–≤–æ–ª–∞ = 32 –±–∞–π—Ç–∞ = 256 –±–∏—Ç)
- –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ `CARD_ENC_SECRET` –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ: `openssl rand -hex 32`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ –∏–ª–∏ –¥–ª–∏–Ω—ã –¥–ª—è `CARD_ENC_SECRET` –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –æ—à–∏–±–∫–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

4. **–°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:**

```bash
mvn clean package
java -jar target/bank_rest-0.0.1-SNAPSHOT.jar
```

## üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:

- **Swagger UI:** http://localhost:8080/swagger-ui.html
- **OpenAPI JSON:** http://localhost:8080/v3/api-docs
- **OpenAPI YAML:** `docs/openapi.yaml`

## üîë –¢–µ—Å—Ç–æ–≤—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä

–ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:

- **Email:** `admin@example.com`
- **–ü–∞—Ä–æ–ª—å:** `admin`
- **–†–æ–ª—å:** `ROLE_ADMIN`
- **UUID:** `00000000-0000-0000-0000-000000000001`

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `/auth/login` –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:

```bash
mvn test
```

–¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç:
- –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã (Auth, Card, UserAdmin)
- –°–µ—Ä–≤–∏—Å—ã (CardService, UserService, JwtService, CryptoService)
- –í–∞–ª–∏–¥–∞—Ü–∏—é –ø–µ—Ä–µ–≤–æ–¥–æ–≤

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç:** AES-256-GCM
- **–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π:** BCrypt (12 rounds)
- **JWT —Ç–æ–∫–µ–Ω—ã:** HS256 —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π refresh —Ç–æ–∫–µ–Ω–æ–≤
- **–†–æ–ª–µ–≤–æ–π –¥–æ—Å—Ç—É–ø:** Spring Security —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ `@PreAuthorize`
- **–ú–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç:** –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 4 —Ü–∏—Ñ—Ä

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îú‚îÄ‚îÄ java/org/zuzukov/bank_rest/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (Security, OpenAPI)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controller/      # REST –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dto/             # Data Transfer Objects
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ entity/          # JPA —Å—É—â–Ω–æ—Å—Ç–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ exception/       # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mapper/          # –ú–∞–ø–ø–∏–Ω–≥ entity -> DTO
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repository/      # JPA —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ security/        # JWT —Ñ–∏–ª—å—Ç—Ä –∏ UserDetails
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ service/         # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ crypto/      # –°–µ—Ä–≤–∏—Å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ validator/   # –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ util/            # –£—Ç–∏–ª–∏—Ç—ã (–º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫)
‚îÇ   ‚îî‚îÄ‚îÄ resources/
‚îÇ       ‚îú‚îÄ‚îÄ application.yml  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ       ‚îî‚îÄ‚îÄ db/migration/    # Liquibase –º–∏–≥—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ test/                    # –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã
```

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ Liquibase –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–¢–∞–±–ª–∏—Ü—ã:
- `users` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `user_roles` ‚Äî —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `cards` ‚Äî –±–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–∞—Ä—Ç—ã
- `revoked_tokens` ‚Äî –æ—Ç–æ–∑–≤–∞–Ω–Ω—ã–µ JWT —Ç–æ–∫–µ–Ω—ã

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏–∏

–ú–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `src/main/resources/db/migration/`:

- `master.yml` ‚Äî –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–π
- `tables/core.yml` ‚Äî —Ç–∞–±–ª–∏—Ü—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Ä–æ–ª–µ–π
- `tables/cards.yml` ‚Äî —Ç–∞–±–ª–∏—Ü–∞ –∫–∞—Ä—Ç

## üê≥ Docker

### –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞

```bash
docker build -t bank-rest:latest .
```

### –ó–∞–ø—É—Å–∫ —Å Docker Compose

```bash
docker-compose up -d
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
docker-compose logs -f bank-service
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
docker-compose down
```

## üìù –û—Å–Ω–æ–≤–Ω—ã–µ endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- `POST /auth/register` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /auth/login` ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–ø–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–æ–≤)
- `POST /auth/refresh` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- `POST /auth/logout` ‚Äî –≤—ã—Ö–æ–¥ (–æ—Ç–∑—ã–≤ —Ç–æ–∫–µ–Ω–∞)
- `GET /auth/me` ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

### –ö–∞—Ä—Ç—ã (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)

- `GET /cards` ‚Äî —Å–ø–∏—Å–æ–∫ —Å–≤–æ–∏—Ö –∫–∞—Ä—Ç (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π)
- `POST /cards/transfer` ‚Äî –ø–µ—Ä–µ–≤–æ–¥ –º–µ–∂–¥—É —Å–≤–æ–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏
- `POST /cards/{id}/request-block` ‚Äî –∑–∞–ø—Ä–æ—Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∫–∞—Ä—Ç—ã
- `GET /cards/balance/total` ‚Äî –æ–±—â–∏–π –±–∞–ª–∞–Ω—Å –≤—Å–µ—Ö –∫–∞—Ä—Ç

### –ö–∞—Ä—Ç—ã (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)

- `POST /cards` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã
- `GET /cards/admin` ‚Äî –ø–æ–∏—Å–∫ –∫–∞—Ä—Ç (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ email, —Å—Ç–∞—Ç—É—Å—É, last4)
- `POST /cards/{id}/block` ‚Äî –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–∞—Ä—Ç—ã
- `POST /cards/{id}/activate` ‚Äî –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∫–∞—Ä—Ç—ã
- `DELETE /cards/{id}` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)

- `GET /admin/users` ‚Äî —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π)
- `POST /admin/users/{userId}/roles/{role}` ‚Äî –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ/—Å–Ω—è—Ç–∏–µ —Ä–æ–ª–∏
- `DELETE /admin/users/{userId}` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –í production –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏ –¥–ª—è JWT –∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –∫–∞—Ä—Ç.
2. **–ü–∞—Ä–æ–ª–∏:** –ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî `admin`. –ò–∑–º–µ–Ω–∏—Ç–µ –µ–≥–æ –≤ production!
3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω—é—é –ë–î –≤ production, –∞ –Ω–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä Docker.
4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ `application.yml`.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª—è—Ö.

## üë§ –ê–≤—Ç–æ—Ä

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ backend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏.

